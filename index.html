<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Data Management Tools</title>

    <link rel="stylesheet" href="./arcgis_js_api/library/4.11/dojo/Calcite-Maps/dist/css/calcite-maps-bootstrap.min-v0.8.css" />
    <link rel="stylesheet" href="./arcgis_js_api/library/4.11/dojo/Calcite-Maps/dist/css/calcite-maps-arcgis-4.x.min-v0.8.css" />
    <link rel="stylesheet" href="./arcgis_js_api/library/4.11/esri/themes/light/main.css" />

    <script src="./jQuery-3.4.1.min.js"></script>

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
      }
      input{
          padding-top: 6px !important;
      }
      .esri-coordinate-conversion__heading {
        background-color: #9f9f9f;
      }
      div.esri-coordinate-conversion__display:hover {
        background-color: #808080
      }
    </style>

  </head>

  <body class="calcite-maps calcite-nav-top">
    <!-- Navbar -->
    <nav class="navbar calcite-navbar navbar-fixed-top calcite-text-light calcite-bg-dark">
      <!-- Menu -->
      <div class="dropdown calcite-dropdown calcite-text-dark calcite-bg-light" role="presentation">
        <a class="dropdown-toggle"
          role="button"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <div class="calcite-dropdown-toggle">
            <span class="sr-only">Toggle dropdown menu</span> <span></span>
            <span></span> <span></span> <span></span>
          </div>
        </a>
        <ul class="dropdown-menu">
          <li>
            <a role="button" data-target="#shapeFiles" aria-haspopup="true">
                <span class="glyphicon glyphicon-wrench"></span> Consolidate Shape Files
            </a>
          </li>
          <li>
            <a role="button" data-target="#rasters" aria-haspopup="true">
                <span class="glyphicon glyphicon-wrench"></span> Consolidate Rasters
            </a>
          </li>
          <li>
            <a role="button" data-target="#elevation" aria-haspopup="true">
                <span class="glyphicon glyphicon-wrench"></span> Consolidate Elevation
            </a>
          </li>
          <li>
            <a role="button" data-target="#panelBasemaps" aria-haspopup="true">
                <span class="glyphicon glyphicon-th-large"></span> Basemaps
            </a>
          </li>
          <li>
            <a role="button" data-target="#panelSettings" aria-haspopup="true">
                <span class="glyphicon glyphicon-cog"></span> Settings
            </a>
          </li>
          <li>
            <a role="button" id="calciteToggleNavbar" aria-haspopup="true">
                <span class="glyphicon glyphicon-fullscreen"></span> Full Map
            </a>
          </li>
        </ul>
      </div>
      <!-- Title -->
      <div class="calcite-title calcite-overflow-hidden">
        <span class="calcite-title-main">Mission Command Map Prep</span>
        <span class="calcite-title-divider hidden-xs"></span>
        <span class="calcite-title-sub hidden-xs"
          >Data Management Tools</span
        >
      </div>
      <!-- Nav -->
      <ul class="nav navbar-nav calcite-nav">
        <li class="active">
          <a id="mapNav"
            class="hidden-xs hidden-sm"
            href="#mapTab"
            aria-controls="mapTab"
            aria-expanded="true"
            role="tab"
            data-toggle="tab"
            data-tooltip="tip"
            title="2D View"
            data-placement="bottom"
            >Map</a
          >
        </li>
        <li>
          <a id="sceneNav"
            class="hidden-xs hidden-sm"
            href="#sceneTab"
            aria-controls="sceneTab"
            role="tab"
            data-toggle="tab"
            data-tooltip="tip"
            title="3D View"
            data-placement="bottom"
            >Scene</a
          >
        </li>
        <li>
          <div class="calcite-navbar-search calcite-search-expander">
            <div id="searchWidgetDiv"></div>
          </div>
        </li>
      </ul>
    </nav>
    <!--/.calcite-navbar -->

    <!-- Map  -->

    <div class="calcite-map calcite-map-absolute">
      <div id="tabContainer" class="tab-content">
        <div id="mapTab" class="tab-pane fade in active" role="tabpanel">
          <div id="mapViewDiv"></div>
        </div>
        <div id="sceneTab" class="tab-pane fade" role="tabpanel">
          <div id="sceneViewDiv"></div>
        </div>
      </div>
    </div>
    <!-- /.calcite-map -->

    <!-- Panels -->
    <div class="calcite-panels calcite-panels-right calcite-text-light calcite-bg-dark panel-group">

    <!-- Consolidate shape files -->
      <div class="panel collapse" id="shapeFiles">
        <div id="headingShapeFiles" class="panel-heading" role="tab">
            <div class="panel-title">
                <a
                    class="panel-toggle collapsed"
                    role="button"
                    data-toggle="collapse"
                    href="#collapseShape"
                    aria-expanded="false"
                    aria-controls="collapseShape"
                    ><span
                        class="glyphicon glyphicon-wrench"
                        aria-hidden="true"
                    ></span
                    ><span class="panel-label">Consolidate Shape Files</span></a
                >
                <a
                    class="panel-close"
                    role="button"
                    data-toggle="collapse"
                    data-target="#shapeFiles"
                    ><span class="esri-icon esri-icon-close" aria-hidden="true"></span
                ></a>
            </div>
            <div
                id="collapseShape"
                class="panel-collapse collapse"
                role="tabpanel"
                aria-labelledby="headingShapeFiles"
            >
            <div class="panel-body">
              <div class="form-horizontal">
                <div class="form-group">
                    <label for="inDirectoryShape" class="col-xs-4 control-label">In Directory:</label>
                    <div class="col-xs-8">
                        <input type="file" class="form-control" id="inDirectoryShape" placeholder="Please select an input directory" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                    </div>
                </div>
                <div class="form-group">
                    <label for="outDirectoryShape" class="col-xs-4 control-label">Out Directory:</label>
                    <div class="col-xs-8">
                        <input type="file" class="form-control" id="outDirectoryShape" placeholder="Please select an output directory" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                    </div>
                </div>
                <button type="submit" class="btn-primary" id="shapeSubmit">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Consolidate rasters -->
      <div class="panel collapse" id="rasters">
            <div id="headingRasters" class="panel-heading" role="tab">
                <div class="panel-title">
                    <a
                        class="panel-toggle collapsed"
                        role="button"
                        data-toggle="collapse"
                        href="#collapseRaster"
                        aria-expanded="false"
                        aria-controls="collapseRaster"
                        ><span
                            class="glyphicon glyphicon-wrench"
                            aria-hidden="true"
                        ></span
                        ><span class="panel-label">Consolidate Rasters</span></a
                    >
                    <a
                        class="panel-close"
                        role="button"
                        data-toggle="collapse"
                        data-target="#rasters"
                        ><span class="esri-icon esri-icon-close" aria-hidden="true"></span
                    ></a>
                </div>
                <div
                    id="collapseRaster"
                    class="panel-collapse collapse"
                    role="tabpanel"
                    aria-labelledby="headingRasters"
                >
                <div class="panel-body">
                  <div class="form-horizontal">
                        <div class="form-group">
                            <label for="workspaceRaster" class="col-xs-4 control-label">Workspace:</label>
                            <div class="col-xs-8">
                                <input type="file" class="form-control" id="workspaceRaster" placeholder="Please select a workspace" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="outDirectoryRaster" class="col-xs-4 control-label">Out Directory:</label>
                            <div class="col-xs-8">
                                <input type="file" class="form-control" id="outDirectoryRaster" placeholder="Please select an output directory" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="mosaicDatasetRas" class="col-xs-4 control-label">Mosaic Dataset:</label>
                            <div class="col-xs-8">
                                <input type="file" class="form-control" id="mosaicDatasetRas" placeholder="Please select a mosaic dataset" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="rasterType" class="col-xs-4 control-label">Raster Type:</label>
                            <div class="col-xs-8">
                                <input type="text" class="form-control" id="rasterType" placeholder="Please enter a raster type" value="Raster Dataset" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cacheLocationRas" class="col-xs-4 control-label">Cache Location:</label>
                            <div class="col-xs-8">
                                <input type="file" class="form-control" id="cacheLocationRas" placeholder="Please select a temporary cache location" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                            </div>
                        </div>
                    <button type="submit" class="btn-primary" id="rasterSubmit">Submit</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

      <!-- Consolidate elevation -->
      <div class="panel collapse" id="elevation">
        <div id="headingElevation" class="panel-heading" role="tab">
            <div class="panel-title">
                <a
                    class="panel-toggle collapsed"
                    role="button"
                    data-toggle="collapse"
                    href="#collapseElevation"
                    aria-expanded="false"
                    aria-controls="collapseElevation"
                    ><span
                        class="glyphicon glyphicon-wrench"
                        aria-hidden="true"
                    ></span
                    ><span class="panel-label">Consolidate Elevation</span></a
                >
                <a
                    class="panel-close"
                    role="button"
                    data-toggle="collapse"
                    data-target="#elevation"
                    ><span class="esri-icon esri-icon-close" aria-hidden="true"></span
                ></a>
            </div>
            <div
                id="collapseElevation"
                class="panel-collapse collapse"
                role="tabpanel"
                aria-labelledby="headingElevation"
            >
            <div class="panel-body">
              <div class="form-horizontal">
                    <div class="form-group">
                        <label for="workspaceElevation" class="col-xs-4 control-label">Workspace:</label>
                        <div class="col-xs-8">
                            <input type="file" class="form-control" id="workspaceElevation" placeholder="Please select a workspace" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="outDirectoryElevation" class="col-xs-4 control-label">Out Directory:</label>
                        <div class="col-xs-8">
                            <input type="file" class="form-control" id="outDirectoryElevation" placeholder="Please select an output directory" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="mosaicDatasetEle" class="col-xs-4 control-label">Mosaic Dataset:</label>
                        <div class="col-xs-8">
                            <input type="file" class="form-control" id="mosaicDatasetEle" placeholder="Please select a mosaic dataset" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="cacheLocationEle" class="col-xs-4 control-label">Cache Location:</label>
                        <div class="col-xs-8">
                            <input type="file" class="form-control" id="cacheLocationEle" placeholder="Please select a temporary cache location" onchange="getfolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
                        </div>
                    </div>
                <button type="submit" class="btn-primary" id="elevationSubmit">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- Basemaps Panel -->

      <div id="panelBasemaps" class="panel collapse">
        <div id="headingBasemaps" class="panel-heading" role="tab">
          <div class="panel-title">
            <a
              class="panel-toggle collapsed"
              role="button"
              data-toggle="collapse"
              href="#collapseBasemaps"
              aria-expanded="false"
              aria-controls="collapseBasemaps"
              ><span
                class="glyphicon glyphicon-th-large"
                aria-hidden="true"
              ></span
              ><span class="panel-label">Basemaps</span></a
            >
            <a
              class="panel-close"
              role="button"
              data-toggle="collapse"
              data-target="#panelBasemaps"
              ><span class="esri-icon esri-icon-close" aria-hidden="true"></span
            ></a>
          </div>
        </div>
        <div
          id="collapseBasemaps"
          class="panel-collapse collapse"
          role="tabpanel"
          aria-labelledby="headingBasemaps"
        >
          <div class="panel-body"><div id="basemapPanelDiv"></div></div>
        </div>
      </div>

      <!-- Panel Settings -->

      <div id="panelSettings" class="panel panel-map collapse">
        <div id="headingSettings" class="panel-heading">
          <div class="panel-title">
            <a
              class="panel-toggle"
              role="button"
              data-toggle="collapse"
              href="#collapseSettings"
              data-parent="#panelAccordion"
              aria-expanded="true"
              aria-controls="collapseSettings"
              ><span class="glyphicon glyphicon-cog" aria-hidden="true"></span
              ><span class="panel-label">Settings</span></a
            >
            <a
              class="panel-close"
              role="button"
              data-toggle="collapse"
              data-target="#panelSettings"
              ><span class="esri-icon esri-icon-close" aria-hidden="true"></span
            ></a>
          </div>
        </div>
        <div
          id="collapseSettings"
          class="panel-collapse collapse"
          role="tabpanel"
          aria-labelledby="headingSettings"
        >
          <div class="panel-body">
            <div class="form-horizontal">
              <!-- Theme -->

              <div class="form-group">
                <label for="settingsTheme" class="col-xs-3 control-label"
                  >Theme</label
                >
                <div class="col-xs-9">
                  <select id="settingsTheme" class="form-control">
                    <option
                      value="calcite-dark"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-dark"
                      selected
                      >Calcite Dark</option
                    >
                    <option
                      value="calcite-light"
                      data-textcolor="calcite-text-dark"
                      data-bgcolor="calcite-bg-light"
                      >Calcte Light</option
                    >
                  </select>
                </div>
              </div>

              <!-- Color -->

              <div class="form-group">
                <label for="settingsColor" class="col-xs-3 control-label"
                  >Color</label
                >
                <div class="col-xs-9">
                  <select id="settingsColor" class="form-control">
                    <option value="" data-theme="calcite-theme-light"
                      >Calcite Default</option
                    >
                    <option
                      value="calcite-bgcolor-dark-blue"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Dark Blue</option
                    >
                    <option
                      value="calcite-bgcolor-dark-green"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Dark Green</option
                    >
                    <option
                      value="calcite-bgcolor-dark-brown"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Dark Brown
                    </option>
                    <option
                      value="calcite-bgcolor-dark-red"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Dark Red</option
                    >
                    <option
                      value="calcite-bgcolor-darkest-grey"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Darkest Grey</option
                    >
                    <option
                      value="calcite-bgcolor-lightest-grey"
                      data-textcolor="calcite-text-dark"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Lightest Grey</option
                    >
                    <option
                      value="calcite-bgcolor-blue-75"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Blue 75%</option
                    >
                    <option
                      value="calcite-bgcolor-black-75"
                      data-textcolor="calcite-text-light"
                      data-bgcolor="calcite-bg-custom"
                      >Calcite Black 75%</option
                    >
                  </select>
                </div>
              </div>

              <!-- Widgets -->

              <div class="form-group">
                <label for="settingsWidgets" class="col-xs-3 control-label"
                  >Widgets</label
                >
                <div class="col-xs-9">
                  <select id="settingsWidgets" class="form-control">
                    <option value="calcite-widgets-dark">Calcite Dark</option>
                    <option value="calcite-widgets-light" selected
                      >Calcite Light</option
                    >
                  </select>
                </div>
              </div>

              <!-- Layout -->

              <div class="form-group">
                <label for="settingsLayout" class="col-xs-3 control-label"
                  >Layout</label
                >
                <div class="col-xs-9">
                  <select id="settingsLayout" class="form-control">
                    <option
                      value="calcite-nav-top"
                      data-nav="navbar-fixed-top"
                      selected
                      >Top</option
                    >
                    <option
                      value="calcite-nav-bottom"
                      data-nav="navbar-fixed-bottom"
                      >Bottom</option
                    >
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /.calcite-panels -->

    <script type="text/javascript">
      var dojoConfig = {
        packages: [
          {
            name: "bootstrap",
            location:
              "./Calcite-Maps/dist/vendor/dojo-bootstrap"
          },
          {
            name: "calcite-maps",
            location: "./Calcite-Maps/dist/js/dojo"
          }
        ]
      };
    </script>

    <!-- ArcGIS JS 4 -->
    <script src="./arcgis_js_api/library/4.11/dojo/dojo.js"></script>

    <script>
        function getfolder(e) {
            var files = e.target.files;
            var path = files[0].webkitRelativePath;
            var Folder = path.split("/");
        };

      var app;

      require([
        "esri/Map",
        "esri/views/MapView",
        "esri/views/SceneView",
        "esri/widgets/CoordinateConversion",
        "esri/widgets/Search",
        "esri/widgets/BasemapGallery",
        "esri/core/watchUtils",
        "calcite-maps/calcitemaps-v0.8",
        "calcite-maps/calcitemaps-arcgis-support-v0.8",
        "bootstrap/Collapse",
        "bootstrap/Dropdown",
        "bootstrap/Tab",
        "dojox/widget/Standby",
        "@dojo/framework/shim/array"
      ], function(
        Map,
        MapView,
        SceneView,
        CoordinateConversion,
        Search,
        Basemaps,
        watchUtils,
        CalciteMaps,
        CalciteMapsArcGIS,

      ) {

        app = {
          center: [-40, 40],
          scale: 50000000,
          basemap: "streets",
          viewPadding: {
            top: 50,
            bottom: 0
          },
          uiComponents: ["zoom", "compass", "attribution"],
          mapView: null,
          sceneView: null,
          containerMap: "mapViewDiv",
          containerScene: "sceneViewDiv",
          activeView: null,
          searchWidget: null
        };

        // Map
        const map = new Map({
          basemap: app.basemap
        });

        // 2D view
        app.mapView = new MapView({
          container: app.containerMap,
          map: map,
          center: app.center,
          scale: app.scale,
          padding: app.viewPadding,
          ui: {
            components: app.uiComponents
          }
        });

        CalciteMapsArcGIS.setPopupPanelSync(app.mapView);

        // 3D view
        app.sceneView = new SceneView({
          container: app.containerScene,
          map: map,
          center: app.center,
          scale: app.scale,
          padding: app.viewPadding,
          ui: {
            components: app.uiComponents
          }
        });

        CalciteMapsArcGIS.setPopupPanelSync(app.sceneView);

        // Set the active view to scene
        setActiveView(app.mapView);

        // Create the search widget and add it to the navbar instead of view
        app.searchWidget = new CoordinateConversion(
          {
            view: app.activeView
          },
          "searchWidgetDiv"
        );

        app.searchWidget.goToOverride = function(view, goToParams){
          var target = goToParams.target;
          goToParams.target = {
            target: target,
            zoom: 15
          };
          goToParams.options = {
            animate: true,
            duration: 1000,
            easing: "ease"
          };
          return view.goTo(goToParams.target, goToParams.options);
        }

        CalciteMapsArcGIS.setSearchExpandEvents(app.searchWidget);

        // Create basemap widget
        app.basemapWidget = new Basemaps({
          view: app.activeView,
          container: "basemapPanelDiv"
        });

        //Synchronize the view, search and popup

        // Views
        function setActiveView(view) {
          app.activeView = view;
        }

        function syncViews(fromView, toView) {
          const viewPt = fromView.viewpoint.clone();
          fromView.container = null;
          if (fromView.type === "3d") {
            toView.container = app.containerMap;
          } else {
            toView.container = app.containerScene;
          }
          toView.padding = app.viewPadding;
          toView.viewpoint = viewPt;
        }

        // Search Widget
        function syncSearch(view) {
          watchUtils.whenTrueOnce(view, "ready", function() {
            app.searchWidget.view = view;
            if (app.searchWidget.selectedResult) {
              app.searchWidget.search(app.searchWidget.selectedResult.name);
            }
          });
        }

        // Tab - toggle between map and scene view
        const tabs = Array.from(
          document.querySelectorAll(".calcite-navbar li a[data-toggle='tab']")
        );
        tabs.forEach(function(tab) {
          tab.addEventListener("click", function(event) {
            if (event.target.text.indexOf("Map") > -1) {
              syncViews(app.sceneView, app.mapView);
              setActiveView(app.mapView);
            } else {
              syncViews(app.mapView, app.sceneView);
              setActiveView(app.sceneView);
            }
            syncSearch(app.activeView);
          });
        });

        /******************************************************************
         *
         * Apply Calcite Maps CSS classes to change application on the fly
         *
         * For more information about the CSS styles or Sass build visit:
         * http://github.com/esri/calcite-maps
         *
         ******************************************************************/

        const cssSelectorUi = [
          document.querySelector(".calcite-navbar"),
          document.querySelector(".calcite-panels")
        ];
        const cssSelectorMap = document.querySelector(".calcite-map");

        // Theme - light (default) or dark theme
        const settingsTheme = document.getElementById("settingsTheme");
        const settingsColor = document.getElementById("settingsColor");
        settingsTheme.addEventListener("change", function(event) {
          const textColor =
            event.target.options[event.target.selectedIndex].dataset.textcolor;
          const bgColor =
            event.target.options[event.target.selectedIndex].dataset.bgcolor;

          cssSelectorUi.forEach(function(element) {
            element.classList.remove(
              "calcite-text-dark",
              "calcite-text-light",
              "calcite-bg-dark",
              "calcite-bg-light",
              "calcite-bg-custom"
            );
            element.classList.add(textColor, bgColor);
            element.classList.remove(
              "calcite-bgcolor-dark-blue",
              "calcite-bgcolor-blue-75",
              "calcite-bgcolor-dark-green",
              "calcite-bgcolor-dark-brown",
              "calcite-bgcolor-darkest-grey",
              "calcite-bgcolor-lightest-grey",
              "calcite-bgcolor-black-75",
              "calcite-bgcolor-dark-red"
            );
            element.classList.add(bgColor);
          });
          settingsColor.value = "";
        });

        // Color - custom color
        settingsColor.addEventListener("change", function(event) {
          const customColor = event.target.value;
          const textColor =
            event.target.options[event.target.selectedIndex].dataset.textcolor;
          const bgColor =
            event.target.options[event.target.selectedIndex].dataset.bgcolor;

          cssSelectorUi.forEach(function(element) {
            element.classList.remove(
              "calcite-text-dark",
              "calcite-text-light",
              "calcite-bg-dark",
              "calcite-bg-light",
              "calcite-bg-custom"
            );
            element.classList.add(textColor, bgColor);
            element.classList.remove(
              "calcite-bgcolor-dark-blue",
              "calcite-bgcolor-blue-75",
              "calcite-bgcolor-dark-green",
              "calcite-bgcolor-dark-brown",
              "calcite-bgcolor-darkest-grey",
              "calcite-bgcolor-lightest-grey",
              "calcite-bgcolor-black-75",
              "calcite-bgcolor-dark-red"
            );
            element.classList.add(customColor);
            if (!customColor) {
              settingsTheme.dispatchEvent(new Event("change"));
            }
          });
        });

        // Widgets - light (default) or dark theme
        const settingsWidgets = document.getElementById("settingsWidgets");
        settingsWidgets.addEventListener("change", function(event) {
          const theme = event.target.value;
          cssSelectorMap.classList.remove(
            "calcite-widgets-dark",
            "calcite-widgets-light"
          );
          cssSelectorMap.classList.add(theme);
        });

        // Layout - top or bottom nav position
        const settingsLayout = document.getElementById("settingsLayout");
        settingsLayout.addEventListener("change", function(event) {
          const layout = event.target.value;
          const layoutNav =
            event.target.options[event.target.selectedIndex].dataset.nav;

          document.body.classList.remove(
            "calcite-nav-bottom",
            "calcite-nav-top"
          );
          document.body.classList.add(layout);

          const nav = document.querySelector("nav");
          nav.classList.remove("navbar-fixed-bottom", "navbar-fixed-top");
          nav.classList.add(layoutNav);
          setViewPadding(layout);
        });

        // Set view padding for widgets based on navbar position
        function setViewPadding(layout) {
          let padding, uiPadding;
          // Top
          if (layout === "calcite-nav-top") {
            padding = {
              padding: {
                top: 50,
                bottom: 0
              }
            };
            uiPadding = {
              padding: {
                top: 15,
                right: 15,
                bottom: 30,
                left: 15
              }
            };
          } else {
            // Bottom
            padding = {
              padding: {
                top: 0,
                bottom: 50
              }
            };
            uiPadding = {
              padding: {
                top: 30,
                right: 15,
                bottom: 15,
                left: 15
              }
            };
          }
          app.mapView.set(padding);
          app.mapView.ui.set(uiPadding);
          app.sceneView.set(padding);
          app.sceneView.ui.set(uiPadding);
          // Reset popup
          if (
            app.activeView.popup.visible &&
            app.activeView.popup.dockEnabled
          ) {
            app.activeView.popup.visible = false;
            app.activeView.popup.visible = true;
          }
        }

        $("#shapeSubmit").click(function(){
          var inDir = $("#inDirectoryShape").val();
          var outDir = $("#outDirectoryShape").val();
          var json = {
            "in-directory": inDir,
            "out-directory": outDir,
            "create-new-service": "true"
          }
          $.ajax({
            type: "POST",
            url: "ENTER URL HERE",
            data: json,
            beforeSend: function(){
              $("#basicStandby").show();
            }
          }).done(function(data){
            $("#basicStandby").hide();
            //load boundary to map
          })
        })

        $("#rasterSubmit").click(function(){
          var inDir = $("#workspaceRaster").val();
          var outDir = $("#outDirectoryShape").val();
          var mosaicData = $("#mosaicDatasetRas").val();
          var rasterType = $("#rasterType").val();
          var cache = $("#cacheLocationRas").val();
          var json = {
            "workspace": inDir,
            "out-directory": outDir,
            "mosaic-dataset": mosaicData,
            "raster-type": rasterType,
            "cache-location": cache,
            "create-new-service": "true"
          }
          $.ajax({
            type: "POST",
            url: "ENTER URL HERE",
            data: json,
            beforeSend: function(){
              $("#basicStandby").show();
            }
          }).done(function(data){
            $("#basicStandby").hide();
            //load boundary to map
          })
        })

        $("#elevationSubmit").click(function(){
          var inDir = $("#workspaceElevation").val();
          var outDir = $("#outDirectoryElevation").val();
          var mosaicData = $("#mosaicDatasetEle").val();
          var cache = $("#cacheLocationEle").val();
          var json = {
            "workspace": inDir,
            "out-directory": outDir,
            "mosaic-dataset": mosaicData,
            "cache-location": cache,
            "create-new-service": "true"
          }
          $.ajax({
            type: "POST",
            url: "ENTER URL HERE",
            data: json,
            beforeSend: function(){
              $("#basicStandby").show();
            }
          }).done(function(data){
            $("#basicStandby").hide();
            //load boundary to map
          })
        })
        
      });
    </script>
    <div id="basicStandby" data-dojo-type="dojox.widget.Standby" data-dojo-props="target:'basic'"></div>
  </body>
</html>